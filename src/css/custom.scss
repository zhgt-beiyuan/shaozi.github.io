/**
 * 全局公共样式 - 部分样式与 infima 源码重叠，仅供学习使用 
 *
 * @import url() 是 css 的方法，在 scss 中不生效，需使用 @import '../路径'
 */
@import './themes/arco-theme.scss'; // 默认主题
// @import './themes/arco-new-year-theme.scss'; // 春节主题
// @import './themes/arco-christmas-theme.scss'; // 圣诞主题
@import './themes/paper-theme.scss';

@import './dino-styles.scss';

@import './docusaurus-theme/navbar.scss'; // 顶部导航条
@import './docusaurus-theme/footer.scss'; // 底部内容
@import './docusaurus-theme/markdown.scss'; // markdown 内容
@import './docusaurus-theme/doc-sidebar.scss'; // doc 侧边栏
@import './docusaurus-theme/codeblock.scss'; // 代码块
@import './docusaurus-theme/announcement-bar.scss'; // 顶部公告条
@import './docusaurus-theme/tabs.scss'; // Tabs 切换
@import './docusaurus-theme/table-of-contents.scss'; // 右侧目录
@import './docusaurus-theme/admonition.scss'; // 告示框

$svgBase: 'data:image/svg+xml;charset=UTF-8,';

:root {
  --ifm-navbar-padding-horizontal: 1rem; // navbar 水平方向的 padding
  --ifm-navbar-height: 3.75rem; // navbar 高度
  --ifm-menu-link-padding-horizontal: 0.875rem; // menu link 水平方向的 padding
  --doc-sidebar-width: 272px; // 展开的 menu 宽度
  --doc-sidebar-hidden-width: 16px; // 收起的 menu 宽度

  /* Font */
  --dino-font-weight-thin: 100;
  --dino-font-weight-light: 300;
  --dino-font-weight-normal: 400;
  --dino-font-weight-medium: 500;
  --dino-font-weight-bold: 600;

  --dino-font-size-xxs: 0.625rem; // 10px
  --dino-font-size-xs: 0.75rem; // 12px
  --dino-font-size-sm: 0.875rem; // 14px
  --dino-font-size-base: 1rem; // 16px
  --dino-font-size-lg: 1.125rem; // 18px
  --dino-font-size-xl: 1.25rem; // 20px
  --dino-font-size-2xl: 1.5rem; // 24px
  --dino-font-size-3xl: 1.875rem; // 30px
  --dino-font-size-4xl: 2.25rem; // 36px
  --dino-font-size-5xl: 3rem; // 48px

  --dino-font-family-base: 'FZZJ-QNTJW', sans-serif;
  --dino-font-family-secondary: -apple-system, system-ui, BlinkMacSystemFont, Helvetica Neue,
    PingFang SC, Hiragino Sans GB, Microsoft YaHei, Arial, sans-serif;
}

body {
  --darkgray-1: 235, 237, 240;
  --darkgray-2: 247, 248, 250;
  --darkgray-3: 229, 230, 235;
  --darkgray-5: 68, 73, 80;
  --darkgray-8: 31, 41, 55;
  --darkgray-9: 17, 24, 39;

  --ifm-navbar-link-color: var(--color-text-1);
  --ifm-link-color: var(--ifm-color-primary);
  --ifm-link-hover-color: var(--ifm-color-primary);
  --ifm-pagination-nav-color-hover: var(--ifm-color-primary);
  --ifm-navbar-link-hover-color: var(--ifm-color-primary);
  --ifm-footer-link-hover-color: var(--ifm-color-primary);
  --ifm-tabs-color-active-border: var(--ifm-color-primary);
  --ifm-tabs-color-active: var(--ifm-color-primary);

  // 🍋 以下变量需适配暗夜模式主题
  --ifm-color-primary: rgb(var(--primary-6)); // docusaurus 主题色
  --ifm-navbar-background-color: var(--color-white);
  --ifm-footer-background-color: rgb(var(--darkgray-2));
  --ifm-dropdown-background-color: var(--color-white);
  --ifm-card-background-color: var(--color-white);
  // --ifm-color-primary-dark: #21af90;
  // --ifm-color-primary-darker: #1fa588;
  // --ifm-color-primary-darkest: #1a8870;
  // --ifm-color-primary-light: #46cbae;
  // --ifm-color-primary-lighter: #66d4bd;
  // --ifm-color-primary-lightest: #92e0d0;

  --dino-color-heading: rgb(var(--darkgray-9));
  --dino-color-body: rgb(var(--darkgray-8));
  --dino-color-body-bg: var(--color-white);
  --dino-color-code: rgb(var(--primary-6));
  --dino-color-code-bg: rgba(var(--primary-6), 0.08);
  --dino-color-browser-bg: rgb(var(--darkgray-1));
}

html[data-theme='dark'] {
  body {
    --ifm-color-primary: rgb(var(--primary-4)); // docusaurus 主题色
    --ifm-navbar-background-color: rgb(var(--darkgray-8));
    --ifm-footer-background-color: rgb(var(--darkgray-8));
    --ifm-dropdown-background-color: rgb(var(--darkgray-8));
    --ifm-card-background-color: rgb(var(--darkgray-8));

    --dino-color-heading: rgb(var(--darkgray-3));
    --dino-color-body: rgb(var(--darkgray-3));
    --dino-color-body-bg: rgb(var(--darkgray-9));
    --dino-color-code: rgb(var(--primary-5));
    --dino-color-code-bg: rgba(var(--primary-5), 0.08);
    --dino-color-browser-bg: rgb(var(--darkgray-5));
  }
}

/* 方正莎儿硬笔简体 */
@font-face {
  font: {
    family: 'FZSEYBJW';
    weight: normal;
    style: normal;
  }
  src: url(@site/static/fonts/FZSEYBJW.ttf);
}

/* 方正字迹-青柠体 简 */
@font-face {
  font: {
    family: 'FZZJ-QNTJW';
    weight: normal;
    style: normal;
  }
  src: url(@site/static/fonts/FZZJ-QNTJW.ttf);
}

/* Base Styles - 基础样式 */
/* html 和 body 如果都设置背景色，则 body 之外的背景色依然是 html 的背景色，不会撑满整个网页，所以二者只能选一个设置背景色 */
* {
  box-sizing: border-box;
}

html {
  background-color: initial;
  color: initial;
  line-height: initial;
  -webkit-font-smoothing: antialiased; // 抗锯齿，使字体看起来更清晰
  text-rendering: optimizelegibility; // 文本渲染方式
}

body {
  color: var(--dino-color-body);
  background-color: var(--dino-color-body-bg);
  font-size: 16px;
  font-family: var(--dino-font-family-secondary);
  margin: 0;
  line-height: initial;
  box-sizing: border-box;
  word-wrap: break-word; // 允许长单词换行
}

/* Heading */
$--dino-h1-font-size: 2.5rem; // 42px
$--dino-h2-font-size: 1.875rem; // 30px
$--dino-h3-font-size: 1.5rem;
$--dino-h4-font-size: 1.125rem;
$--dino-h5-font-size: 1rem;
$--dino-h6-font-size: 0.875rem;

$heading-list: (
  (1, $--dino-h1-font-size),
  (2, $--dino-h2-font-size),
  (3, $--dino-h3-font-size),
  (4, $--dino-h4-font-size),
  (5, $--dino-h5-font-size),
  (6, $--dino-h6-font-size)
);
@each $key, $size in $heading-list {
  h#{$key} {
    font-size: $size;
    font-weight: var(--dino-font-weight-bold);
    font-family: var(--dino-font-family-secondary);
    color: var(--dino-color-heading);
    margin: 0;
    position: relative;
  }
}

p {
  margin: 0;
  font-size: var(--dino-font-size-sm);
  letter-spacing: 2px;
}

a {
  @extend .transition-all;

  &:hover {
    opacity: 0.85;
  }
  // 没有 href 属性的 a 标签
  :not([href]) {
    text-decoration: none;
  }
}

strong {
  border-bottom-style: dashed;
  border-bottom-width: 1px;

  > a {
    border: inherit;
  }
}

/* Card 卡片 */
.card {
  &:hover {
    background-color: transparent;
  }
}

/* 索引页面 - card */
article > a[class*='cardContainer_'] {
  justify-content: space-between;
}

/* 响应式 */
$--dino-sm: 640px;
$--dino-md: 768px;
$--dino-lg: 1140px;
$--dino-xl: 1320px;
$--dino-2xl: 1536px;
@media (min-width: $--dino-2xl) {
  .container {
    max-width: $--dino-2xl;
  }
}

/* 滚动条样式 */
@media (pointer: fine) {
  .thin-scrollbar {
    // 整体
    &::-webkit-scrollbar {
      width: 12px;
      height: 4px;
    }
    // 滑块
    &::-webkit-scrollbar-thumb,
    &::-webkit-scrollbar-thumb:hover {
      border: 4px solid transparent;
      background-clip: padding-box;
      border-radius: 7px;
      background-color: var(--color-fill-4);
    }
    // 外层轨道
    &::-webkit-scrollbar-track {
      background: transparent;
      border-radius: 0;
    }
  }
}

/* github 图标样式 */
.header-github-link:before {
  content: '';
  width: 20px;
  height: 24px;
  display: flex;
  // https://fontawesome.com/license 图标库
  background-size: 20px;
  background-position: center;
  background-repeat: no-repeat;
  background-image: url(@site/static/img/github.svg);
}
html[data-theme='dark'] {
  .header-github-link:before {
    background-image: url(@site/static/img/github-dark.svg);
  }
}
